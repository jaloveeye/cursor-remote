{"version":3,"file":"chat-capture.js","sourceRoot":"","sources":["../src/chat-capture.ts"],"names":[],"mappings":"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"}